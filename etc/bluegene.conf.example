###############################################################################
# Global specifications for BlueGene system
#
# BlrtsImage:           BlrtsImage used for creation of all bgblocks.
# LinuxImage:           LinuxImage used for creation of all bgblocks.
# MloaderImage:         MloaderImage used for creation of all bgblocks.
# RamDiskImage:         RamDiskImage used for creation of all bgblocks.
# LayoutMode:           Mode in which slurm will create blocks:
#                       STATIC:  Use defined non-overlapping bgblocks
#                       OVERLAP: Use defined bgblocks, which may overlap
#                       DYNAMIC: Create bgblocks as needed for each job
# BasePartitionNodeCnt: Number of c-nodes per base partition.  
# NodeCardNodeCnt:      Number of c-nodes per node card.
# Numpsets:             The Numpsets used for creation of all bgblocks 
#                       equals this value multiplied by the number of 
#                       base partitions in the bgblock.
#
# BridgeAPILogFile : Pathname of file in which to write the BGL 
#                    Bridge API logs.
# BridgeAPIVerbose:  How verbose the BGL Bridge API logs should be
#                    0: Log only error and warning messages
#                    1: Log level 0 and information messasges
#                    2: Log level 1 and basic debug messages
#                    3: Log level 2 and more debug message
#                    4: Log all messages
# 
# NOTE: The bgl_serial value is set at configuration time using the 
#       "--with-bgl-serial=" option. Its default value is "BGL".
###############################################################################
BlrtsImage=/bgl/BlueLight/ppcfloor/bglsys/bin/rts_hw.rts
LinuxImage=/bgl/BlueLight/ppcfloor/bglsys/bin/zImage.elf
MloaderImage=/bgl/BlueLight/ppcfloor/bglsys/bin/mmcs-mloader.rts
RamDiskImage=/bgl/BlueLight/ppcfloor/bglsys/bin/ramdisk.elf
LayoutMode=STATIC
BasePartitionNodeCnt=512
NodeCardNodeCnt=32
Numpsets=8

BridgeAPILogFile=/var/log/slurm/bridgeapi.log
BridgeAPIVerbose=0

###############################################################################
# Define the static/overlap partitions (bglblocks)
#
# Nodes: The base partitions (midplanes) in the bglblock using XYZ coordinates
# Type:  Connection type "MESH" or "TORUS" or "SMALL", default is "TORUS" 
#        Type SMALL will divide a midplane into multiple bgblock
#        based off options num32 and num128 to determine type of small blocks.
# 
# IMPORTANT NOTES: 
# * Ordering is very important for laying out switch wires.  Please create
#   blocks with smap, and once done don't move the order of blocks
#   created.
# * A bglblock is implicitly created containing all resources on the system
# * Bglblocks must not overlap in static mode (except for implicitly 
#   created bglblock) This will be the case when smap is used to create 
#   a configuration file
# * All Nodes defined here must also be defined in the slurm.conf file
# * Define only the numeric coordinates of the bglblocks here. The prefix
#   will be based upon the NodeName defined in slurm.conf
###############################################################################
# LEAVE NEXT LINE AS A COMMENT, Full-system bglblock, implicitly created
# Nodes=[000x333] Type=TORUS        # 4x4x4 = 64 midplanes
###############################################################################
# smap bglblock layout here:
BPs=[000x133] Type=TORUS          # 2x4x4 = 32
BPs=[200x233] Type=TORUS          # 1x4x4 = 16
BPs=[300x313] Type=TORUS          # 1x2x4 =  8
BPs=[320x323] Type=TORUS          # 1x1x4 =  4
BPs=[330x331] Type=TORUS          # 1x1x2 =  2
BPs=[332x332] Type=TORUS          # 1x1x1 =  1
BPs=[333x333] Type=SMALL num32=4 num128=3 # 1x1x1 = 4-32 cnode blocks 3-128 c-node blocks
