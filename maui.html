<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                        "http://www.w3.org/TR/REC-html40/loose.dtd">

<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="keywords" content="Simple Linux Utility for Resource Management, SLURM, resource management, 
Linux clusters, high-performance computing, Livermore Computing">
<meta name="LLNLRandR" content="UCRL-WEB-201790">
<meta name="LLNLRandRdate" content="12 January 2004">
<meta name="distribution" content="global">
<meta name="description" content="Simple Linux Utility for Resource Management">
<meta name="copyright"
content="This document is copyrighted U.S.
Department of Energy under Contract W-7405-Eng-48">
<meta name="Author" content="Moe Jette">
<meta name="email" content="jette@llnl.gov">
<meta name="Classification"
content="DOE:DOE Web sites via organizational
structure:Laboratories and Other Field Facilities">
<title>Simple Linux Utility for Resource Management:Maui Scheduler Integration Guide</title>
<link href="slurmstyles.css" rel="stylesheet" type="text/css">
</head>

<body bgcolor="#000000" text="#000000" leftmargin="0" topmargin="0">
<table width="770" border="0" cellspacing="0" cellpadding="0">
<tr> 
<td><img src="slurm_banner.jpg" width="770" height="145" usemap="#Map" border="0" alt="Simple Linux Utility for Resource Management"></td>
</tr>
</table>
<table width="770" border="0" cellspacing="0" cellpadding="3" bgcolor="#FFFFFF">
<tr> 
<td width="100%"> 
<table width="760" border="0" cellspacing="0" cellpadding="4" align="right">
<tr>
<td valign="top" bgcolor="#000000"><p><img src="spacer.gif" width="110" height="1" alt=""></p>
<p><a href="slurm.html" class="nav" align="center">Home</a></p>
<p><span class="whitetext">About</span><br>
<a href="overview.html" class="nav">Overview</a><br>
<a href="news.html" class="nav">What's New</a><br>
<a href="publications.html" class="nav">Publications</a><br>
<a href="team.html" class="nav">SLURM Team</a></p>
<p><span class="whitetext">Using</span><br>
<a href="documentation.html" class="nav">Documentation</a><br>
<a href="faq.html" class="nav">FAQ</a><br>
<a href="help.html" class="nav">Getting Help</a></p>
<p><span class="whitetext">Installing</span><br>
<a href="platforms.html" class="nav">Platforms</a><br>
<a href="download.html" class="nav">Download</a><br>
<a href="quickstart_admin.html" class="nav">Guide</a></p></td>
<td><img src="spacer.gif" width="10" height="1" alt=""></td>
<td valign="top"><h2>Maui Scheduler Integration Guide</h2>
<h3>Overview</h3>
<p>Maui configuration is quite complicated and is really beyond the scope
of any documents we could supply with SLURM.  We don't intend SLURM to
be a "wrapper" for Maui, or to subordinate Maui.  The best (and
practically only) resource for configuration Maui is the online
documents at the site of Maui's developers: 
<a href="http://www.supercluster.org">http://www.supercluster.org</a>.

<h3>Configuration</h3>
<p>First, compile Maui from its source distribution.  As part of the Maui
pre-compilation configuration you will be asked whether you want to us
PBS.  Say no.  You will be asked for a "Checksum Seed".  Enter any
number and make note of the number you give; it will be needed for the
SchedulerAuth configuration parameter in SLURM.

<p>You must also select a TCP port number over which Maui and SLURM will
communicate.  I use 7321, but you can pick any port that is available
and accessible.  In the Maui configuration file, add the following
configuration parameters:
<pre>
RMCFG[base]     TYPE=WIKI
RMPORT          7321            # or whatever you choose as a port
</pre>

<p>You must also give the host name on which the SLURM controller is
running.  Note that "localhost" doesn't seem to work; if you run Maui
and SLURM on the same machine, you must still give the host name.  In
the Maui configuration add:
<pre>
RMHOST          myhost.mydomain
</pre>
replacing "myhost.mydomain" with your SLURM controller host.  You can
also set a polling interval with
<pre>
RMPOLLINTERVAL  00:00:20
</pre>
I like Maui to poll SLURM quite often -- in this case every 20 seconds.

The sample SLURM configuration file contains a schedule section that
looks like this:
<pre>
#
# o Define a scheduler.
#
# "SchedulerType"        : the type of scheduler.
#       "sched/builtin"  : the default, SLURM's built-in FIFO scheduler.
#       "sched/backfill" : FIFO scheduling with backfill.
#       "sched/wiki"     : the Wiki interface to Maui.
#
# "SchedulerAuth"        : an authentication token, if any, that must
#                          be used in a scheduler communication
#                          protocol.  The interpretation of this value
#                          depends on the plugin type.
#
# "SchedulerPort"        : for polling schedulers, the port number on
#                          which slurmctld should listen for connection
#                          requests.
#
SchedulerType=sched/wiki
SchedulerPort=7321
SchedulerAuth=42
</pre>
In this case, "SchedulerAuth" has been set to 42, which is the number
you could have given as the "Checksum Seed" to Maui.  Just make sure the
numbers match.  The Maui folks have assured me that the checksum won't
always be a compiled-in feature.


<p class="footer"><a href="#top">top</a></p></td>
</tr>
<tr> 
<td colspan="3"><hr> <p>For information about this page, contact <a href="mailto:slurm-dev@lists.llnl.gov">slurm-dev@lists.llnl.gov</a>.</p>
<p><a href="http://www.llnl.gov/"><img align=middle src="lll.gif" width="32" height="32" border="0"></a></p>
<p class="footer">UCRL-WEB-201790<br>
Last modified March 12, 2004</p></td>
</tr>
</table>
</td>
 </tr>
</table>
<map name="Map">
<area shape="rect" coords="616,4,762,97" href="../">
<area shape="rect" coords="330,1,468,11" href="http://www.llnl.gov/disclaimer.html">
<area shape="rect" coords="11,23,213,115" href="slurm.html">
</map>
</body>
</html>
