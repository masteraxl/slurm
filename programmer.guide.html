<html>
<head>
<title>SLURM Programmer's Guide</title>
</head>
<body>
<h1>SLURM Programmer's Guide</h1>

<h2>Overview</h2>

Simple Linux Utility for Resource Management (SLURM) is an open source,
fault-tolerant, and highly scalable cluster management and job 
scheduling system for Linux clusters large and small. 
Components include machine status, partition
management, job management, scheduling and stream copy modules.  
SLURM requires no kernel modifications for it operation and is 
relatively self-contained.
<p>
There is an overview the components and their interactions available 
in a separate document, 
<a href="slurm_design.pdf"> SLURM: Simple Linux Utility for Resource Management</a>.
<p>
SLURM is written in the C language and uses a GNU <i>autoconf</i> 
configuration engine.  
While initially written for Linux, other UNIX-like operating systems 
should be easy porting targets.
Code should adhere to the 
<a href="http://libros.es.gnome.org/guias/programming-guidelines/CodingStyle.html">
Linux kernel coding style</a>.
<p>
Many of these modules have been built and tested on a variety of 
Unix computers including Red Hat Linux, IBM's AIX, Sun's Solaris, 
and Compaq's Tru-64. The only module at this time which is operating 
system dependent is <i>src/slurmd/read_proc.c</i>. 
We will be porting and testing on additional platforms in future releases.

<h2>Plugins</h2>

In order to make the use of different infrastructures possible, 
SLURM uses a general purpose plugin mechanism. 
A SLURM plugin is a dynamically linked code object which is 
loaded explicitly at run time by the SLURM libraries. 
It provides a customized implementation of a well-defined
API connected to tasks such as authentication, interconnect fabric, 
task scheduling, etc.
A set of functions is defined for use by all of the different 
infrastructures of a particular variety. 
When a SLURM daemon is initiated, it reads the configuration 
file to determine which of the available plugins should be used.
A <a href="plugins.html">plugin developer's guide</a> and an 
<a href="authplugins.html">authentication plugin developer's guide</a>
are available with details.

<h2>Directory Structure</h2>

The contents of the SLURM directory structure will be described below in 
increasing detail as the structure is descended. The top level directory 
contains the scripts and tools required to build the entire SLURM system. 
It also contains a variety of subdirectories for each type of file.
<p>
General build tools/files include: <i>acinclude.m4</i>, <i>autogen.sh</i>, 
<i>configure.ac</i>, <i>Makefile.am</i>,  <i>Make-rpm.mk</i>, <i>META</i>, 
<i>README</i>, <i>slurm.spec.in</i>, and the contents of the <i>auxdir</i> 
directory.
<i>autoconf</i> and <i>make</i> commands are used to build and install 
SLURM in an automated fashion. NOTE: <i>autoconf</i> version 2.52 
or higher is required to build SLURM. Execute "autoconf -V" to check 
your version number. The build process is described in the <i>README</i>
file.
<p>
Copyright and disclaimer information are in the files <i>COPYING</i> and <i>DISCLAIMER</i>.

All of the top-level subdirectories are described below.
<dl>

<dt>auxdir
<dd>Used for building SLURM.

<dt>doc
<dd>Documentation including man pages.

<dt>etc
<dd>Sample configuration files.

<dt>slurm
<dd>Header files for API use. These files must be installed.
Placing these header files in this location makes for better code portability. 

<dt>src
<dd>Contains all source code and header files not in the "slurm" subdirectory 
described above.

<dt>testsuite
<dd>DejaGnu is used as a testing framework and all of its files are here.

</dl>

<h2>Documentation</h2>

All of the documentation is in the subdirectory <i>doc</i>.
Man pages for the APIs, configuration file, commands, and daemons 
are in <i>doc/man</i>.
Various documents suitable for public consumption are in <i>doc/html</i>.
Overall SLURM design documents including various figures are in <i>doc/pubdesign</i>.
Various design documents (many of which are dated) can be found in 
<i>doc/slides</i> and <i>doc/txt</i>.
A survey of available resource managers as of 2001 is in 
<i>doc/survey</i>.

<h2>Source Code</h2>

Functions are divided into several categories, each in its own 
subdirectory. The details of each directory's contents are proved 
below. The directories are as follows:

<dl>
<dt>api
<dd>Application Program Interfaces into the SLURM code. 
Used to send and get SLURM information from the central manager. 
These are the functions user applications might utilize.

<dt>common
<dd>General purpose functions for widespread use throughout SLURM.

<dt>plugins
<dd>Plugin functions for various infrastructure. 
A separate subdirectory is used for each plugin class: 
<i>auth</i> for user authentication, 
<i>jobcomp</i> for job completion logging,
<i>sched</i> for job scheduler, 
<i>switch</i> for switch (interconnect) specific functions, 
etc.

<dt>scancel
<dd>User command to cancel (or signal) a job or job step.

<dt>scontrol
<dd>Administrator tool to manage SLURM.

<dt>sinfo
<dd>User command to get information on SLURM nodes and partitions.

<dt>slurmctld
<dd>SLURM central manager daemon code.

<dt>slurmd
<dd>SLURM daemon code to manage the compute server nodes including the 
execution of user applications.

<dt>squeue
<dd>User command to get information on SLURM jobs and job steps.

<dt>srun
<dd>User command to submit a job, get an allocation, and/or initiation 
a parallel job step.

</dl>

<h2>Configuration</h2>

Configuration files are included in the <i>etc</i> subdirectory.
<i>slurm.conf.example</i> includes a description of all configuration 
options and default settings. See <i>doc/man/man5/slurm.conf.5</i> for 
more details.
<i>init.d.slurm</i> is a script that determines which SLURM daemon(s) 
should execute on any node based upon the configuration file contents. 
It will also manage these daemons: starting, signalling, restarting, 
and stopping them.

<h2>Test Suite</h2>

The <i>testsuite</i> files use a DejaGnu framework for testing. 
These tests are very limited in scope.

We also have a set of Expect SLURM tests available as a separate 
distribution. These tests are executed after SLURM has been installed 
and the daemons initiated. About 100 test scripts exercise all SLURM 
commands and options including stress tests. 

<hr>
<a href="http://www.llnl.gov/disclaimer.html">Privacy and Legal Notice</a>
<p>URL = http://www.llnl.gov/linux/slurm/programmer.guide.html
<p>UCRL-WEB-201790
<p>Last Modified January 8, 2004</p>
<address>Maintained by <a href="mailto:slurm-dev@lists.llnl.gov">
slurm-dev@lists.llnl.gov</a></address>
</body>
</html>
